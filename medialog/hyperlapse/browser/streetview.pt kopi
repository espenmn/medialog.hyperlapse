<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="medialog.hyperlapse">
<head>
    <tal:javascript metal:fill-slot="javascript_head_slot" tal:omit-tag="">
	
	  
 
		<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
		<script type="text/javascript" src="google.maps.LatLng.js" 
		tal:attributes="src string:${context/@@plone_portal_state/portal_url}/++resource++medialog.hyperlapse/google.maps.LatLng.js" > 	</script>
		<script type="text/javascript" src=""></script>
		<script type="text/javascript" src="google.maps.StreetViewPlayer.js" tal:attributes="src string:${context/@@plone_portal_state/portal_url}/++resource++medialog.hyperlapse/google.maps.StreetViewPlayer.js"></script>
		<script type="text/javascript" src="google.maps.StreetViewPlayer.Frame.js"
    		tal:attributes="src string:${context/@@plone_portal_state/portal_url}/++resource++medialog.hyperlapse/google.maps.StreetViewPlayer.Frame.js"></script>
 
 <script type="text/javascript">
var streetviewPlayer = new google.maps.StreetViewPlayer({
    origin: "Phoenix, AZ",
    destination: "Tempe, AZ",
    travelMode: google.maps.TravelMode.DRIVING,
    movieCanvas: document.getElementById("movie-canvas"),
    mapCanvas: document.getElementById("map-canvas"),
    onLoading: function() {
        //do something while loading
    },
    onPlay: function() {
        //do something when playing
    },
    onProgress: function(progress) {
        //do something with progress
    }
})
</script>
	
	
	</tal:javascript>
</head>    
      
<body>
    <metal:main fill-slot="content-core">
      <metal:content-core define-macro="content-core">
 
         
     
		<div class="container" style="width:1100px">
			<div style="text-align:center">
				<h1>Google Maps Streetview Player</h1>
			</div>
			<div class="well">
				<div class="container" style="width:600px;margin:auto">
					<input onchange="buildLink()" placeholder="origin" type="text" id="origin"/>
					<input onchange="buildLink()" placeholder="destination" type="text" id="destination"/>
					<input type="button" class="btn btn-primary" value="Play" onclick="initMovie()"/>
				</div>
				<div class="container" style="width:600px;margin:auto">
          <label for="gxp-file">Import GPX:</label>
					<input type="file" id="gxp-file" class="btn btn-secondary" value="Import GXP" onchange="importGXP(this)" />
				</div>
			</div>
			<div class="well">
				<div class="row-fluid">
					<div class="span6">
						<div id="draw" style="border:1px solid #ddd;height:512px;width:512px"></div>
						<div id="progress" class="progress progress-striped"><div class="bar" id="progressbar" style="width:0%"></div></div>
						<div class="btn-group" id="controls" style="visibility:hidden;height:20px">
							<input class="btn" id="btn_playpause" onclick="pauseMovie(this)" type="button" value="Pause"/>
							<input class="btn" onclick="speedUpMovie()" type="button" value="Faster"/>
							<input class="btn" onclick="slowDownMovie()" type="button" value="Slower"/>
							<input class="btn" onclick="buildMovie()" type="button" value="Download"/>
						</div>
					</div>
					<div class="span6">
						<div id="map"></div>
						<div id="map-canvas"></div>
						<div id="movie-canvas"></div>
						<div id="directions"></div>
					</div>
				</div>
			</div>
			<div style="text-align:right;font-size:10px">
				Question, complaints, compliments, please email me at <a href="mailto:brian.folts@gmail.com">brian.folts@gmail.com</a>
			</div>
		</div>
 
        

      </metal:content-core>
     </metal:main>
</body>
</html>

